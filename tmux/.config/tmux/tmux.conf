# Standard config
set -g escape-time 0
set -g mouse on
set -g detach-on-destroy off

# Keymaps
bind -n M-h select-pane -L
bind -n M-j select-pane -D
bind -n M-k select-pane -U
bind -n M-l select-pane -R

bind -n M-n next-window
bind -n M-p previous-window

bind -n C-M-j resize-pane -D 1
bind -n C-M-k resize-pane -U 1
bind -n C-M-h resize-pane -L 2
bind -n C-M-l resize-pane -R 2

bind -n M-r swap-pane -D
bind -n M-R swap-pane -U

# Set directory in new panes/windows/sessions

# Plugins
set-environment -g TMUX_PLUGIN_MANAGER_PATH "~/.local/share/tmux/plugins/"
set -g @plugin "tmux-plugins/tpm"
set -g @plugin "tmux-plugins/tmux-resurrect"
set -g @plugin "tmux-plugins/tmux-continuum"
set -g @plugin "tmux-plugins/tmux-logging"


# Save and restore environment
set -g @continuum-save-interval "10"
set -g @continuum-restore "on"
#set -g @continuum-boot "on"
#set -g @continuum-systemd-start-cmd "start"

## VISUALS

# Fix colours in tmux
set -g default-terminal "tmux-256color"
set -sg terminal-overrides ",*:RGB"

# Gruvbox
set -g @bg	"#1D2021"
set -g @lightbg	"#3C3836"
set -g @gray		"#928374"
set -g @fg	"#FBF1C7"
#set -g @fg	"#EBDBB2"


set -g @red			"#FB4934"
set -g @orange		"#FE8019"
set -g @yellow		"#FABD2F"
set -g @green		"#B8BB26"
set -g @aqua		"#8EC07C"
set -g @blue		"#83A598"
set -g @purple		"#D3869B"

set -g @green-dark	"#98971A"


# Pane borders
set -g pane-border-lines "single"
set -g pane-border-indicators "off"
set -g pane-active-border-style "fg=#{@gray}"
set -g pane-border-style "fg=#{@gray}"

set -g pane-border-status off
set -g pane-border-format "Hello"

# Bar
set -g status-position top
set -g status-interval 3

set -g status-style "bg=#{@bg}, fg=#{@fg}"
set -g status 2
set -g "status-format[1]" ""


# Left
set -g status-left-length 20
set -g status-left " #[bg=#{@aqua}]  #[bg=#{@lightbg} fg=#{@fg}] #{session_name} "

# Center
set -g status-justify absolute-centre
set -g window-status-format "#[bg=#{@gray}]  #[bg=#{@lightbg} fg=#{@gray}] #W "
set -g window-status-current-format "#[bg=#{@green}]  #[bg=#{@lightbg} fg=#{@fg}] #W "

# Right
set -g status-right " #[bg=#{@backgraund}] #[bg=#{@orange}]  #[bg=#{@lightbg} fg=#{@fg}] #{#{s|^$HOME|~|:session_path}} #[bg=#{@bg}] "

run "~/.local/share/tmux/plugins/tpm/tpm"
